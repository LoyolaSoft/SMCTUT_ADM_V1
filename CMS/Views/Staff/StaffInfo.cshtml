@model CMS.ViewModel.Model.StaffInfo
@using CMS.Utility;
@{
    ViewBag.Title = "StaffInfo";
    Layout = "~/Views/Shared/_AdminLayoutPage.cshtml";
}



@section styles{
    <style>
        .disabled {
            pointer-events: none;
            opacity: 0.4;
        }
    </style>
    <!-- ================== BEGIN PAGE LEVEL CSS STYLE ================== -->

    <link href="~/Content/assets/plugins/gritter/css/jquery.gritter.css" rel="stylesheet" />
    <link href="~/Content/assets/plugins/bootstrap-sweetalert/sweetalert.css" rel="stylesheet" />
    <link href="~/Content/assets/plugins/parsley/src/parsley.css" rel="stylesheet" />
    <!-- ================== END PAGE LEVEL CSS STYLE ================== -->
}


<div class="content" id="content">
    <!-- begin breadcrumb -->
    <ol class="breadcrumb pull-right">
        <li><a href="@Url.Action("ADMIN","DashBoard")">Home</a></li>
        <li><a href="@Url.Action("ListStaffDetails","Staff")">List Staff Details</a></li>
        <li class="active">Staff Information</li>
    </ol>
    <!-- end breadcrumb -->
    <!-- begin page-header -->
    <h1 class="page-header">Staff Details</h1>
    <!-- end page-header -->
    <!-- begin panel -->
    <div class="panel panel-default panel-with-tabs" data-sortable-id="ui-unlimited-tabs-2">
        <div class="panel-heading p-0">
            <div class="panel-heading-btn m-r-10 m-t-10">
                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-inverse" data-click="panel-expand"><i class="fa fa-expand"></i></a>
            </div>
            <!-- begin nav-tabs -->
            <div class="tab-overflow" data-parsley-validate="true" name="form-wizard">
                <ul class="nav nav-tabs">
                    <li class="prev-button"><a href="javascript:;" data-click="prev-tab" class="text-inverse"><i class="fa fa-arrow-left"></i></a></li>
                    <li class="active"><a href="#nav-tab1-1" data-toggle="tab">Personal Details</a></li>
                    <li class="disabled" onclick=""><a href="#nav-tab1-2" id="Address" data-toggle="tab">Address Details</a></li>
                    <li class="disabled" id="Services"><a href="#nav-tab1-3" data-toggle="tab">Services Details</a></li>
                    <li class="disabled" id="Qualification"><a href="#nav-tab1-4" data-toggle="tab">Qualification Details</a></li>
                    <li class="disabled" id="Leaving"><a href="#nav-tab1-5" data-toggle="tab">Leaving Details</a></li>
                    <li class="disabled" id="Traning"><a href="#nav-tab1-6" data-toggle="tab">Traning Details</a></li>
                    <li class="disabled" id="Paper"><a href="#nav-tab1-7" data-toggle="tab">Paper Details</a></li>
                    <li class="disabled" id="Counseling"><a href="#nav-tab1-8" data-toggle="tab">Counseling Details</a></li>
                    <li class="disabled" id="Publish"><a href="#nav-tab1-9" data-toggle="tab">Publish Details</a></li>
                    <li class="disabled" id="Roles"><a href="#nav-tab1-10" data-toggle="tab">Staff Roles Details</a></li>
                    <li class="disabled" id="Family"><a href="#nav-tab1-11" data-toggle="tab">Family Details</a></li>

                    <li class="next-button"><a href="javascript:;" data-click="next-tab" class="text-inverse"><i class="fa fa-arrow-right"></i></a></li>
                </ul>
            </div>
        </div>
        <div class="panel-body">
            <div class="tab-content">

                <div class="tab-pane fade active in" id="nav-tab1-1" data-parsley-validate="true">

                    @Html.Action("StaffPersoanlInfo")
                    @*<div id="dvPersonal"></div>*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-2" data-parsley-validate="true">

                    <div id="dvAddress"></div>

                    @*@Html.Action("StaffAddressInfo")*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-3" data-parsley-validate="true">

                    <div id="dvService"></div>
                    @*  @Html.Action("StaffServiceInfo")*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-4" data-parsley-validate="true">

                    <div id="dvQualification"></div>
                    @*@Html.Action("StaffQualificationInfo")*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-5" data-parsley-validate="true">

                    <div id="dvLeaving"></div>
                    @*@Html.Action("StaffLeavingInfo")*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-6" data-parsley-validate="true">

                    <div id="dvTraining"></div>
                    @*  @Html.Action("StaffTrainingInfo")*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-7" data-parsley-validate="true">

                    <div id="dvPaper"></div>
                    @*@Html.Action("StaffPaperInfo")*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-8" data-parsley-validate="true">

                    <div id="dvCounselling"></div>
                    @*  @Html.Action("StaffCounsellingInfo")*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-9" data-parsley-validate="true">

                    <div id="dvPublish"></div>
                    @*   @Html.Action("StaffPublishInfo")*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-10" data-parsley-validate="true">

                    <div id="dvRoles"></div>
                    @*@Html.Action("StaffRolesInfo")*@

                </div>
                <div class="tab-pane fade" id="nav-tab1-11" data-parsley-validate="true">

                    <div id="dvFamily"></div>
                    @*@Html.Action("StaffFamilyInfo")*@

                </div>

            </div>
        </div>
    </div>
    <!-- end panel -->
</div>

@section scripts{



    <script src="~/Content/assets/plugins/flot/jquery.flot.min.js"></script>
    <script src="~/Content/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
    <script src="~/Content/assets/plugins/gritter/js/jquery.gritter.js"></script>
    <script src="~/Content/assets/plugins/bootstrap-sweetalert/sweetalert.min.js"></script>
    <script src="~/Content/assets/js/ui-modal-notification.demo.min.js"></script>

    <script src="~/Content/assets/plugins/parsley/dist/parsley.js"></script>
    <script>

        $(document).ready(function () {
            Notification.init();
            ////FormMultipleUpload.init();
            HandleDatePicker = function ()
            {
                "use strict";
                $("#dateofbirth,#dateofjoin").datepicker({
                    todayHighlight: true,
                    autoclose: true,
                    endDate: new Date(),
                    format: "dd/mm/yyyy",
                    orientation: "right bottom"
                    // 'top': top,
                    // 'left': left
                });
            }
            HandleDatePicker();

            // PersonalInfo ....
            PersonalInfo= function ()
            {
                $.ajax({
                    url: "@Url.Action("StaffPersoanlInfo", "Staff")",
                    method: "POST",
                    datatype: "html",
                    success: function (data)
                    {
                        $('#dvPersonal').empty();
                        $('#dvPersonal').append(data);

                    }, error: function (error)
                    {
                        alert('Internal Server Error ..!');
                    }
                });
           }
           // PersonalInfo();
        });

    </script>

    <script>

        // StaffPersonal
        $('#btnStaffPersonalInfo').on('click', function (e)
        {
            var isValid = true;
            if ($('#nav-tab1-1').parsley().validate() !== true) isValid = false;
            if (!isValid) { 
                //gritter-info,danger,success,warning,default
                myAlert('Something went wrong ! Please check your inputs !', 'gritter-warning','');
                return false;
            } 
            var fname = $("#txtfname").val();
            var lname = $("#txtlname").val();
            var NickName = $("#txtknowas").val();
            var PlaceofBirth = $("#txtplaceofbirth").val();
            var DateofBirth = $("#dateofbirth").val();
            var DateofJoin = $("#dateofjoin").val();
            var BloodGroup = $("#ddlBloodGroup").val();
            var Department = $("#ddlDepartment").val();
            var Community = $("#ddlCommunity").val();
            var Gender = $("#ddlGender").val();
            var MaritalStatus = $("#ddlMaritalStatus").val();
            var MotherTongue = $("#ddlMotherTongue").val();
            var Nationality = $("#ddlNationality").val();
            var Religion = $("#ddlReligion").val();
            var StaffCode = $("#StaffCode").val();
            var Role = $("#Role").val();
            var UserType = $("#UserType").val();
            
            var JsonData;
            if (JsonData == null)
            {
                JsonData = '{"UserType":"' + UserType + '","Role":"' + Role + '","StaffCode":"' + StaffCode + '","Image":"' + Image + '","FirstName":"' + fname + '","LastName":"' + lname + '","NickName":"' + NickName + '","PlaceofBirth":"' + PlaceofBirth + '","DateofBirth":"' + DateofBirth + '","DateofJoin":"' + DateofJoin + '","BloodGroup":"' + BloodGroup + '","Department":"' + Department + '","Community":"' + Community + '","Gender":"' + Gender + '","MaritalStatus":"' + MaritalStatus + '","MotherTongue":"' + MotherTongue + '","Nationality":"' + Nationality + '","Religion":"' + Religion + '"}';
            }
            $.ajax({
                url:"@Url.Action("StaffPersonal", "Staff")",
                method: "POST",
                datatype: "html",
                data: { str: JsonData },
                success: function (data)
                {
                    if (data == "200")
                    {
                        alert("Record(s) Saved Successfully !!!");
                        $("li").removeClass("disabled");
                    } else {
                        alert(data);
                    }
                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });


        
    </script>

    <script>

        // Address ....
        $('#Address').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffAddressInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {
                    $('#dvAddress').empty();
                    $('#dvAddress').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
        // Service ....
        $('#Services').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffServiceInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {

                    $('#dvService').empty();
                    $('#dvService').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
        // Qualification ....
        $('#Qualification').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffQualificationInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {
                    $('#dvQualification').empty();
                    $('#dvQualification').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
        // Leaving ....
        $('#Leaving').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffLeavingInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {
                    $('#dvLeaving').empty();
                    $('#dvLeaving').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
        // Training ....
        $('#Traning').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffTrainingInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {
                    $('#dvTraining').empty();
                    $('#dvTraining').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
        // Paper ....
        $('#Paper').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffPaperInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {
                    $('#dvPaper').empty();
                    $('#dvPaper').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
        // Counselling ....
        $('#Counseling').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffCounsellingInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {
                    $('#dvCounselling').empty();
                    $('#dvCounselling').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
        // Publish ....
        $('#Publish').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffPublishInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {
                    $('#dvPublish').empty();
                    $('#dvPublish').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
        // Roles ....
        $('#Roles').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffRolesInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {
                    $('#dvRoles').empty();
                    $('#dvRoles').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
        // Family ....
        $('#Family').on('click', function ()
        {
            $.ajax({
                url: "@Url.Action("StaffFamilyInfo", "Staff")",
                method: "POST",
                datatype: "html",
                success: function (data)
                {
                    $('#dvFamily').empty();
                    $('#dvFamily').append(data);

                }, error: function (error)
                {
                    alert('Internal Server Error ..!');
                }
            });
        });
    </script>

}