@model CMS.ViewModel.Model.StuAddressInfo


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="col-md-6"><h4>Contact Details</h4><hr /></div>
    <div class="col-md-6"><h4>Permanent Details</h4><hr /></div>
    <div class="form-horizontal">
        <div class="col-md-6">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                @Html.LabelFor(model => model.C_DOOR_DETAIL, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.C_DOOR_DETAIL, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Door Details", @data_parsley_required = "true", @data_parsley_length = "[3,20]" } })
                    @Html.ValidationMessageFor(model => model.C_DOOR_DETAIL, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.C_STREET, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.C_STREET, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter Street", @data_parsley_required = "true", @data_parsley_length = "[3,100]" } })
                    @Html.ValidationMessageFor(model => model.C_STREET, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.C_VILLAGE_AREA, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.C_VILLAGE_AREA, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter Village Area", @data_parsley_length = "[3,100]" } })
                    @Html.ValidationMessageFor(model => model.C_VILLAGE_AREA, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.C_POST_PLACE_TOWN, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.C_POST_PLACE_TOWN, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter Post Area", @data_parsley_length = "[3,100]" } })
                    @Html.ValidationMessageFor(model => model.C_POST_PLACE_TOWN, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.C_TAULK, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.C_TAULK, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter Taulk", @data_parsley_required = "true", @data_parsley_length = "[3,100]" } })
                    @Html.ValidationMessageFor(model => model.C_TAULK, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.C_CITY, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.C_CITY, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter City", @data_parsley_length = "[3,100]" } })
                    @Html.ValidationMessageFor(model => model.C_CITY, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.C_DISTRICT, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.C_DISTRICT, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter District", @data_parsley_required = "true", @data_parsley_length = "[3,100]" } })
                    @Html.ValidationMessageFor(model => model.C_DISTRICT, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.C_PINCODE, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.EditorFor(model => model.C_PINCODE, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter PinCode", @data_parsley_required = "true", @data_parsley_length = "[6,15]", @data_parsley_type= "number" } })
                    @Html.ValidationMessageFor(model => model.C_PINCODE, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.C_COUNTRY, htmlAttributes: new { @class = "control-label col-md-3" })
                <div class="col-md-9">
                    @Html.DropDownListFor(model => model.C_COUNTRY, Model.C_COUNTRY, "-- Select --", new { @class = "drop-down form-control input-sm" })
                    @Html.ValidationMessageFor(model => model.C_COUNTRY, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group col-md-12 pull-right">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" id="chAddress" name="Address" /> Click if Both are Same
                    </label>
                </div>
                <div class="form-group">
                    <label class="col-md-6 control-label"></label>
                    <div class="col-md-9">
                        <a class="btn btn-primary" id="btnStuAddress">Submit</a>
                    </div>
                </div>
            </div>
            
        </div>

        <div class="col-md-6">
            <div id="PermenentAddress">
                <div class="form-group">
                    @Html.LabelFor(model => model.P_DOOR_DETAIL, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.P_DOOR_DETAIL, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Door Details", @data_parsley_length = "[3,20]" } })
                        @Html.ValidationMessageFor(model => model.P_DOOR_DETAIL, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.P_STREET, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.P_STREET, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter Street", @data_parsley_length = "[3,100]" } })
                        @Html.ValidationMessageFor(model => model.P_STREET, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.P_VILLAGE_AREA, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.P_VILLAGE_AREA, new { htmlAttributes = new { @class = "form-control input - sm", placeholder = "Enter Village Area", @data_parsley_length = "[3,100]" } })
                        @Html.ValidationMessageFor(model => model.P_VILLAGE_AREA, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.P_POST_PLACE_TOWN, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.P_POST_PLACE_TOWN, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter Post Area", @data_parsley_length = "[3,100]" } })
                        @Html.ValidationMessageFor(model => model.P_POST_PLACE_TOWN, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.P_TAULK, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.P_TAULK, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter Taulk", @data_parsley_length = "[3,100]" } })
                        @Html.ValidationMessageFor(model => model.P_TAULK, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.P_CITY, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.P_CITY, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter City", @data_parsley_length = "[6,100]" } })
                        @Html.ValidationMessageFor(model => model.P_CITY, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.P_DISTRICT, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.P_DISTRICT, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter District", @data_parsley_length = "[6,100]" } })
                        @Html.ValidationMessageFor(model => model.P_DISTRICT, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.P_PINCODE, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.P_PINCODE, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Enter PinCode", @data_parsley_required = "true", @data_parsley_length = "[6,15]", @data_parsley_type = "number" } })
                        @Html.ValidationMessageFor(model => model.P_PINCODE, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.P_COUNTRY, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.DropDownListFor(model => model.P_COUNTRY, Model.P_COUNTRY, "-- Select --", new { @class = "drop-down form-control input-sm" })
                        @Html.ValidationMessageFor(model => model.P_COUNTRY, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
        </div>
       
        <script>
            // Add Address Details ...
            $("#btnStuAddress").on("click", function ()
            {
                var isValid = true;
                if ($('#nav-tab1-4').parsley().validate() !== true) isValid = false;
                if (!isValid) {
                    //gritter-info,danger,success,warning,default
                    myAlert('Something went wrong ! Please check your inputs !', 'gritter-warning', '');
                    return false;
                }
                var C_DOOR_DETAIL = $("#C_DOOR_DETAIL").val();
                var C_STREET = $("#C_STREET").val();
                var C_VILLAGE_AREA = $("#C_VILLAGE_AREA").val();
                var C_POST_PLACE_TOWN = $("#C_POST_PLACE_TOWN").val();
                var C_TAULK = $("#C_TAULK").val();
                var C_CITY = $("#C_CITY").val();
                var C_DISTRICT = $("#C_DISTRICT").val();
                var C_PINCODE = $("#C_PINCODE").val();
                var C_COUNTRY = $("#C_COUNTRY").val();
                var P_DOOR_DETAIL = $("#P_DOOR_DETAIL").val();
                var P_STREET = $("#P_STREET").val();
                var P_VILLAGE_AREA = $("#P_VILLAGE_AREA").val();
                var P_POST_PLACE_TOWN = $("#P_POST_PLACE_TOWN").val();
                var P_TAULK = $("#P_TAULK").val();
                var P_CITY = $("#P_CITY").val();
                var P_DISTRICT = $("#P_DISTRICT").val();
                var P_PINCODE = $("#P_PINCODE").val();
                var P_COUNTRY = $("#P_COUNTRY").val();
                var JsonData;
                if ($('#chAddress').is(':checked'))
                {
                    JsonData = '{"CDoorDetail":"' + C_DOOR_DETAIL + '","CStreet":"' + C_STREET + '","CPostPlace":"' + C_POST_PLACE_TOWN + '","CCity":"' + C_CITY + '","Cpincode":"' + C_PINCODE + '","CDistrict":"' + C_DISTRICT + '","CVillage":"' + C_VILLAGE_AREA + '","CCountry":"' + C_COUNTRY + '","PDoorDetails":"' + C_DOOR_DETAIL + '","CTaluk":"' + C_TAULK + '","PStreet":"' + C_STREET + '","PVillage":"' + C_VILLAGE_AREA + '","PPostPlace":"' + C_POST_PLACE_TOWN + '","PTaluk":"' + C_TAULK + '","PCity":"' + C_CITY + '","PDistrict":"' + C_DISTRICT + '","PPincode":"' + C_PINCODE + '","PCountry":"' + C_COUNTRY + '"}';
                } else {
                    JsonData = '{"CDoorDetail":"' + C_DOOR_DETAIL + '","CStreet":"' + C_STREET + '","CPostPlace":"' + C_POST_PLACE_TOWN + '","CCity":"' + C_CITY + '","Cpincode":"' + C_PINCODE + '","CDistrict":"' + C_DISTRICT + '","CVillage":"' + C_VILLAGE_AREA + '","CCountry":"' + C_COUNTRY + '","PDoorDetails":"' + P_DOOR_DETAIL + '","CTaluk":"' + C_TAULK + '","PStreet":"' + P_STREET + '","PVillage":"' + P_VILLAGE_AREA + '","PPostPlace":"' + P_POST_PLACE_TOWN + '","PTaluk":"' + P_TAULK + '","PCity":"' + P_CITY + '","PDistrict":"' + P_DISTRICT + '","PPincode":"' + P_PINCODE + '","PCountry":"' + P_COUNTRY + '"}';
                }
                $.ajax({
                    url:"@Url.Action("InsertStuAddress", "Student")",
                    method: "POST",
                    datatype: "html",
                    data: { JsonAddress: JsonData },
                    success:function(data)
                    {
                        if (data == "200")
                            myAlert('Record(s) saved successfully ...!', 'gritter-success', '');
                        else if (data == "406")
                            myAlert('Failed to save Records ...!', 'gritter-warning', '');
                        else if (data == "201")
                            myAlert('Student Already Exits ...!', 'gritter-warning', '');
                    },error:function(error)
                    {
                        alert('Your record not saved try again ...!');
                    }
                });
            });

            $("#chAddress").on("click", function ()
            {
                $("#PermenentAddress").toggle();
            });
        </script>
    </div>
}
